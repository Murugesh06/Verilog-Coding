module Traffic_controller_fsm(
input clk,reset,in,output reg red_light,yellow_light,green_light
    );
    parameter [1:0] red=2'b00,
                    yellow=2'b01,
                    green=2'b10;
    reg [2:0]state,next_state;
    always @(*)begin
    case(state)
    red:next_state=(in)?yellow:red;
    yellow:next_state=(in)?green:yellow;
    green:next_state=(in)?red:green;
    default:next_state=red;
    endcase
    end
    always @(posedge clk )begin
    if(reset) state<=red;
    else state<=next_state;
    end
    always @(*)begin
    red_light=1'b0;
    yellow_light=1'b0;
    green_light=1'b0;
    case(state)
    red:red_light=1'b1;
    yellow:yellow_light=1'b1;
    green:green_light=1'b1;
    endcase
    end
endmodule
